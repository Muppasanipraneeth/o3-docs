# Mise en place des traductions dans un module frontend

L'internationalisation est le processus de conception d'applications logicielles qui peuvent être facilement adaptées à différentes langues et régions sans nécessiter de changements techniques significatifs. L'objectif de l'internationalisation est de rendre l'application sensible à la localisation, ce qui signifie qu'elle peut être facilement adaptée à différentes localités ou régions sans nécessiter de modifications de la base de code.

Nous utilisons [react-i18next](https://react.i18next.com/) pour internationaliser le contenu des modules frontaux.

Afin d'internationaliser votre module frontend, ajoutez cette ligne dans le fichier index.ts pour indiquer au shell de l'application où trouver les fichiers de traduction.

```ts
const importTranslation = require.context("../translations", false, /.json$/, "lazy");
```

Toutes les traductions sont ajoutées dans le répertoire `translations` qui se trouve au premier niveau du paquet. Le fichier source des traductions est le `en.json` qui contient les traductions en anglais de tous les textes codés en dur.
Pour ajouter des traductions d'une autre langue, par exemple l'espagnol, créez un nouveau fichier `es.json` dans le répertoire `translations`. Lorsque l'utilisateur change de langue, l'application charge le fichier de ressources approprié et affiche le texte dans la langue préférée de l'utilisateur.

Voici un exemple d'utilisation de la localisation react-i18next dans vos composants react.

```ts
import { useTranslation } from "react-i18next";

const ActiveVisitsTable = () => {
  const { t } = useTranslation();

  return <h4>{t("activeVisits", "Active Visits")}</h4>;
};
```

De nombreuses chaînes de traduction courantes sont fournies par le framework : elles sont appelées « core translations ». Ceux-ci sont accessibles avec la fonction [`getCoreTranslation`](https://github.com/openmrs/openmrs-esm-core/blob/main/packages/framework/esm-framework/docs/API.md#getcoretranslation). Pour utiliser cette fonction, remplacez simplement `t` par `getCoreTranslation`. Une erreur de type Typescript s'affichera si la clé n'est pas valide. Le type Typescript `CoreTranslationKey` fournit la liste des clés de traduction disponibles ; la liste peut également être consultée dans la [documentation API](https://github.com/openmrs/openmrs-esm-core/blob/main/packages/framework/esm-framework/docs/API.md#getcoretranslation). La liste comprend des chaînes courantes utilisées dans de nombreuses applications, telles que « Annuler », « Confirmer », « Femme » et « Autre ». Les fichiers JSON de traduction eux-mêmes sont [dans openmrs-esm-core](https://github.com/openmrs/openmrs-esm-core/tree/main/packages/framework/esm-translations/translations).

```ts
import { getCoreTranslation } from "@openmrs/esm-framework";

const ErrorHeader = () => {
  return <h4>{getCoreTranslation("error", "Error")}</h4>;
};
```